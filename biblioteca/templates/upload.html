{% extends 'base.html' %}
{% block title %}Subir contenido{% endblock %}
{% load static %}
{% block content %}
<style>
    img {
        height: calc(100% - 6.8rem);
        /*max-height: 25rem;  400 px */
        width: 100%;
        object-fit: cover;
    }
    .img-card-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        grid-gap: 4rem;
        width: 100%;
        max-width: 1280px;
        margin: 0 auto;
        margin-bottom: 6rem;
    }
    .img-card {
        display: block;
        text-align: center;
    }
</style>
<header class="container-fluid">
    <!--INICIO NAVBAR-->
    <nav class="navbar sticky-top navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="{% url 'home' %}">Biblioteca</a>

            <form class="d-flex">
                <input class="form-control me-2" type="search" placeholder="Buscar..." aria-label="Search">
                <button class="btn btn-primary" type="submit">Buscar</button>
            </form>

            <div class="dropdown dropstart">
                <a class="dropdowm-toggle" href="" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    {{ request.user.username }}
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <li><a class="dropdown-item" href="{% url 'upload' %}">Subir contenido</a></li>
                </ul>
            </div>

        </div>
    </nav>
      <!--FIN NAVBAR-->
</header>
<section class="container-fluid">
    <section class="img-card-grid align-middle">
        <div class="img-card">
            <a href="#videoModal" id="video" data-bs-toggle="modal" role="button" aria-expanded="false" aria-controls="videoModal">
                <img src="{% static 'img/video-marketing.png' %}" class="img-thumbnail" alt="subir video">
                <h3>Video</h3>
            </a>
        </div>
        <div class="img-card">
            <a href="#archivoModal" id="archivo" data-bs-toggle="modal" role="button" aria-expanded="false" aria-controls="archivoModal">
                <img src="{% static 'img/pdf-file.png' %}" class="img-thumbnail" alt="subir archvio">
                <h3>Archivo</h3>
            </a>
        </div>
        <div class="img-card">
            <a href="#linkYtModal" id="linkYt" data-bs-toggle="modal" role="button" aria-expanded="false" aria-controls="linkYtModal">
                <img src="{% static 'img/url.png' %}" class="img-thumbnail" alt="subir video youtube">
                <h3>Link de YouTube</h3>
            </a>
        </div>
        <div class="img-card">
            <a href="#imagenModal" id="imagen" data-bs-toggle="modal" role="button" aria-expanded="false" aria-controls="imagenModal">
                <img src="{% static 'img/image.png' %}" class="img-thumbnail" alt="subir imagen">
                <h3>Imagen</h3>
            </a>
        </div>
    </section>
</section>
<!--INICIO MODAL-->
<div class="modal fade" id="videoModal" tabindex="-1" aria-labelledby="videoModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="videoModalLabel">Subir Video</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <section class="d-flex justify-content-center">
                    <form method="POST" action="" class="mt-2" enctype="multipart/form-data" autocomplete="off">
                        {% csrf_token %}
                        {{ videoForm.as_p }}
                        <input type="hidden" name="name" value="videoForm">
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="submit" class="save btn btn-primary">Subir Video</button>
                        </div>
                    </form>
                </section>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="archivoModal" tabindex="-1" aria-labelledby="archivoModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="archivoModalLabel">Subir Archivo</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <section class="d-flex justify-content-center">
                    <form method="POST" action="" class="mt-2" enctype="multipart/form-data" autocomplete="off">
                        {% csrf_token %}
                        {{ fileForm.as_p }}
                        <input type="hidden" name="name" value="fileForm">
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="submit" class="save btn btn-primary">Subir Archivo</button>
                        </div>
                    </form>
                </section>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="linkYtModal" tabindex="-1" aria-labelledby="linkYtModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="linkYtModalLabel">Subir Link de YouTube</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <section class="d-flex justify-content-center">
                    <form method="POST" action="" class="mt-2" autocomplete="off">                      
                        {% csrf_token %}
                        {{ ytLinkForm.as_p }}
                        <input type="hidden" name="name" value="ytLinkForm">
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="submit" class="save btn btn-primary">Subir Link</button>
                        </div>
                    </form>
                </section>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="imagenModal" tabindex="-1" aria-labelledby="imagenModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="imagenModalLabel">Subir Imagen</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <section class="d-flex justify-content-center">
                    <form method="post" action="." class="post-form mt-2" enctype="multipart/form-data" autocomplete="off">
                        {% csrf_token %}
                        {{ imageForm.as_p }}
                        <input type="hidden" name="name" value="imageForm">
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="submit" class="save btn btn-primary">Subir Imagen</button>
                        </div>
                    </form>
                </section>
            </div>
        </div>
    </div>
</div>
<!--FINAL MODAL-->
{% endblock %}